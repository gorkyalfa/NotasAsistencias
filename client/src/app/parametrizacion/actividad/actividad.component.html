<ngx-spinner></ngx-spinner>
<h4>Administración de las actividades de la asignatura</h4>
<hr />
<div class="row">
  <div class="col-lg-1">
    <label class="label text-right">Asignatura:</label>
  </div>
  <div class="col-lg-3">
    <select class="form-control" id="asignatura" required [(ngModel)]="idAsignatura" (change)="asignaturaChange($event.target.value)">
      <option *ngFor="let asignatura of asignaturas" [value]="asignatura.id" [ngValue]="asignatura.nombre">
        {{ asignatura.nombre }}
      </option>
    </select>
  </div>
  <div class="col-lg-8 text-right">
    <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
      <div class="btn-group mr-2" role="group" aria-label="Primer grupo">
        <button class="btn btn-info ml-1 btn-sm" (click)="nuevo()" title="Nuevo">
          <span class="fa fa-plus"></span>
        </button>
      </div>
      <div class="btn-group mr-2" role="group" aria-label="Segundo grupo">
        <button class="btn btn-primary ml-1 btn-sm" (click)="grabar()" title="Grabar">
          <span class="fa fa-save"></span>
        </button>
      </div>
      <div class="btn-group mr-2" role="group" aria-label="Tercer grupo">
        <button class="btn btn-success ml-1 btn-sm" (click)="ngOnInit()" title="Recargar">
          <span class="fa fa-refresh"></span>
        </button>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-lg-12">
    <table class="table table-responsive table-hover" style="margin-top: 10px;">
      <thead class="table-default text-center">
        <tr>
          <th>Creación</th>
          <th>Entrega</th>
          <th>Nombre</th>
          <th>Descripción</th>
          <th>Tipo</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let actividad of actividades">
          <td style="padding-top: 5px;padding-bottom: 5px;padding-right: 5px;padding-left: 5px;">
            <input
              type="date"
              name="creacion"
              [ngModel]="actividad.creacion | date: 'yyyy-MM-dd'"
              (ngModelChange)="actividad.creacion = $event"
              class="form-control"
              readonly="readonly"
            />
          </td>
          <td style="padding-top: 5px;padding-bottom: 5px;padding-right: 5px;padding-left: 5px;">
            <input
              type="date"
              name="entrega"
              [ngModel]="actividad.entrega | date: 'yyyy-MM-dd'"
              (ngModelChange)="actividad.entrega = $event"
              class="form-control"
            />
          </td>
          <td style="padding-top: 5px;padding-bottom: 5px;padding-right: 5px;padding-left: 5px;">
            <input type="text" name="nombre" [(ngModel)]="actividad.nombre" class="form-control" />
          </td>
          <td style="padding-top: 5px;padding-bottom: 5px;padding-right: 5px;padding-left: 5px;">
            <input type="text" name="descripcion" [(ngModel)]="actividad.descripcion" class="form-control" />
          </td>
          <td style="padding-top: 5px;padding-bottom: 5px;padding-right: 5px;padding-left: 5px;">
            <select required [(ngModel)]="actividad.idTipoActividad" class="form-control">
              <option *ngFor="let tipo of tiposActividad" [value]="tipo.id" [ngValue]="tipo.nombre">{{ tipo.nombre }}</option>
            </select>
          </td>
          <td class="text-center" style="padding-top: 5px;padding-bottom: 5px;padding-right: 5px;padding-left: 5px;">
            <button class="btn btn-danger ml-1 btn-sm" (click)="borrar(actividad)" title="Eliminar">
              <span class="fa fa-trash"></span>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
